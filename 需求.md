# 图像处理Web系统需求

## 项目概述

- **类型**：前端 + 后端开发
- **技术栈**：Vue.js (前端) + Python/Django (后端)

## 项目背景

已有Python代码实现了图片处理算法和报告生成功能，需要开发Web界面使其产品化，允许用户通过浏览器操作。

## 后台功能需求

### 1. 用户登录

- 实现Web端用户登录验证功能

### 2. 图片管理功能

- 批量上传图片文件到服务器指定目录
- 显示已上传图片列表
- 提供图片删除等管理功能
- 需要与已有main.py代码的文件路径配置兼容

### 3. 任务管理功能

- 创建新任务
- 选择处理图片文件
- 选择应用的算法
- 任务创建后自动运行main.py代码
- 提供任务删除等管理功能

### 4. 报告管理功能

- 显示算法处理后生成的检测报告
- 提供报告查看功能
- 支持报告删除等管理操作

## 技术实现要点

- 需要对已有Python代码进行强化
- 需要为前端开发API接口
- 后端推荐使用Django框架
- 前端使用Vue.js开发

## 已有资源

- 读取本地图片文件的代码已完成
- 各种图像处理算法代码已完成 
- 生成报告的代码已完成

## 系统架构

### 前端 (Vue.js)

- 采用Vue 3 + Vite构建
- 使用Element Plus组件库
- Pinia状态管理
- Vue Router路由管理

### 后端 (Django)

- Django REST framework提供API
- Django ORM管理数据库
- Celery处理异步任务
- JWT认证系统

### 数据模型设计

#### 用户模型

用户ID、用户名、密码、创建时间

#### 图片模型

图片ID、文件名、存储路径、上传时间、上传用户

#### 任务模型

- 任务ID、任务名称、创建时间、状态(待处理/处理中/已完成/失败)
- 算法类型、处理图片列表、创建用户、完成时间

#### 报告模型

- 报告ID、关联任务、生成时间、报告路径、报告名称

### API接口设计

#### 用户管理

POST /api/auth/login - 用户登录
POST /api/auth/logout - 用户登出

#### 图片管理

POST /api/images/upload - 上传图片
GET /api/images/list - 获取图片列表
DELETE /api/images/{id} - 删除图片

#### 任务管理

POST /api/tasks/create - 创建任务
GET /api/tasks/list - 获取任务列表
GET /api/tasks/{id} - 获取任务详情
DELETE /api/tasks/{id} - 删除任务

#### 报告管理

GET /api/reports/list - 获取报告列表
GET /api/reports/{id} - 查看报告详情
DELETE /api/reports/{id} - 删除报告

### 技术实现路径

整合现有Python代码
将现有图像处理算法封装为Django服务
通过Celery实现异步任务处理

### 前端开发

用户界面设计与实现
文件上传组件开发
任务管理界面
报告查看界面

### 后端开发

用户认证系统
文件存储管理
任务调度系统
与现有算法代码集成
系统对接
前后端接口联调
性能优化

### 系统流程

用户登录系统
上传需处理的图片
创建处理任务，选择图片和算法
系统调用已有Python代码进行处理
处理完成后生成报告
用户查看和管理报告

### 注意事项

需确保对接现有main.py的文件路径配置
文件存储需考虑权限和安全问题
大型图片处理任务需要异步执行并显示进度